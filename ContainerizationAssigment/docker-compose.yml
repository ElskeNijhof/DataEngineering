version: "3.8"
services:
  dataingestion_service:
    build: 
      context: /1.DataIngestion
      dockerfile: Dockerfile
    ports:
      - "501:500"
    
  featureextraction_service:
    build: 
      context: /2.FeatureExtractions
      dockerfile: Dockerfile
    depends_on:
      - dataingestion_service
    ports:
      - "502:500"
    environment:
      - TRAININGDB_API = http://dataingestion_service:500/DataIngestion/database
  
  
  training_service:
    build: 
      context: /3.Training
      dockerfile: Dockerfile
    depends_on:
      featureextraction_service
    ports:
      - "503:500"
    environment:
      - FEATURE_API = http://featureextraction_service:500/2.FeatureExtractions/DatabaseFeatures

  predict_service:
    build: 
      context: /4.Predict
      dockerfile: Dockerfile
    depends_on:
      training_service
    ports:
      - "504:500"
    environment:
      - MODEL_API = http://training_service:500/Training/model
    
  visualization_service:
    build: 
      context: /5.Visualization 
      dockerfile: Dockerfile  
    depends_on:
      predict_service
    ports:
      - "505:500"




